<!doctype html>
<html>
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Owner Panel</title>
  <link rel="stylesheet" href="style.css"/>
  <script defer src="https://unpkg.com/@supabase/supabase-js@2"></script>
  <script defer src="config.js"></script>
  <script defer src="catalog.js"></script>
  <script defer src="common.js"></script>
  <script defer src="owner.js"></script>
</head>
<body>
<header><h1>Owner Panel</h1><nav>
  <a href="index.html">Home</a>
  <button id="logoutBtn">Logout</button>
</nav></header>
<main>
  <section class="card">
    <h2>Add Stocks</h2>
    <form id="addForm" class="grid2">
      <label>Category & Product
        <select id="product_key"></select>
      </label>
      <label>Account type
        <select id="account_type">
          <option>shared profile</option>
          <option>solo profile</option>
          <option>shared account</option>
          <option>solo account</option>
        </select>
      </label>
      <label>Plan duration
        <select id="plan">
          <option value="7d">7 days</option><option value="14d">14 days</option>
          <option value="1m">1 month</option><option value="2m">2 months</option>
          <option value="3m">3 months</option><option value="4m">4 months</option>
          <option value="5m">5 months</option><option value="6m">6 months</option>
          <option value="7m">7 months</option><option value="8m">8 months</option>
          <option value="9m">9 months</option><option value="10m">10 months</option>
          <option value="11m">11 months</option><option value="12m">12 months</option>
        </select>
      </label>
      <label>Quantity
        <input type="number" id="qty" value="1" min="1" max="50"/>
      </label>
      <label>Email (optional)<input id="email"/></label>
      <label>Password (optional)<input id="password"/></label>
      <label>PIN (optional)<input id="pin"/></label>
      <label>Notes (optional)<input id="notes"/></label>
      <button class="btn" type="submit">Add</button>
    </form>
    <p class="muted">Quantity creates identical rows. `expires_at` saved from plan.</p>
  </section>

  <section class="card">
    <h2>Buyer Records</h2>
    <div class="grid3">
      <input id="filterSocial" placeholder="buyer social..."/>
      <select id="filterProduct"></select>
      <button class="btn" id="searchBuyer">Search</button>
    </div>
    <table id="buyerTbl">
      <thead><tr><th>When</th><th>Product</th><th>Buyer Social</th><th>Price</th><th>Admin</th></tr></thead>
      <tbody></tbody>
    </table>
    <div class="pager">
      <button id="prevBuyer">Prev</button>
      <span id="buyerPage"></span>
      <button id="nextBuyer">Next</button>
    </div>
  </section>

  <section class="card">
    <h2>Admin Records (raw)</h2>
    <table id="adminTbl">
      <thead><tr><th>When</th><th>Product</th><th>Stock ID</th><th>Admin</th></tr></thead>
      <tbody></tbody>
    </table>
  </section>
</main>
</body>
</html>